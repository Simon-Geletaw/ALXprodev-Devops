#!/bin/bash

# Pokémon JSON file
JSON_FILE="$1"

if [ ! -f "$JSON_FILE" ]; then
    echo "File $JSON_FILE not found!"
    exit 1
fi

# Extract fields using jq
name=$(jq -r '.name' "$JSON_FILE")
HEIGHT=$(jq -r '.height' "$JSON_FILE")
WEIGHT=$(jq -r '.weight' "$JSON_FILE")
# Extract types as comma-separated string
types=$(jq -r '[.types[].type.name] | join(", ")' "$JSON_FILE")

# Convert height and weight to meters and kg if needed (PokéAPI uses decimeters & hectograms)
formatted_height=$(echo "scale=1; $HEIGHT / 10" | bc)
formatted_weight=$(echo "scale=1; $WEIGHT / 10" | bc)

# Format output
echo "$name is of type $types, weighs ${formatted_weight}kg, and is ${formatted_height}m tall." \
    | sed -e 's/\b\(.\)/\u\1/'   # Capitalize first letter
awk '{print $0}'  # Ensure proper output formatting