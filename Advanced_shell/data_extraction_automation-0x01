#!/bin/bash

# Pokémon JSON file
JSON_FILE="$1"

if [ ! -f "$JSON_FILE" ]; then
    echo "File $JSON_FILE not found!"
    exit 1
fi

# Extract fields using jq
NAME=$(jq -r '.name' "$JSON_FILE")
HEIGHT=$(jq -r '.height' "$JSON_FILE")
WEIGHT=$(jq -r '.weight' "$JSON_FILE")
# Extract types as comma-separated string
TYPES=$(jq -r '[.types[].type.name] | join(", ")' "$JSON_FILE")

# Convert height and weight to meters and kg if needed (PokéAPI uses decimeters & hectograms)
HEIGHT_M=$(echo "scale=1; $HEIGHT / 10" | bc)
WEIGHT_KG=$(echo "scale=1; $WEIGHT / 10" | bc)

# Format output
echo "$NAME is of type $TYPES, weighs ${WEIGHT_KG}kg, and is ${HEIGHT_M}m tall." \
    | sed -e 's/\b\(.\)/\u\1/'   # Capitalize first letter
